"use strict";!function(n){var e=function(n,e){function t(n){var t=document.querySelectorAll(n);if(!t.length)return!1;var i=[];return r(t,function(n){i.push({parent:n})}),o(i,function(n){n.image=n.parent.querySelector(e)}),i}function i(){return"function"==typeof requestAnimationFrame&&!/iP(ad|hone|od).*OS\s7.*/.test(navigator.userAgent)}function o(n,e){for(var t=0;t<n.length;t++)e(n[t])}function r(n,e){return n.length?void o(n,e):void e(n)}function a(){function n(n){n.style.display="block"}o(d,function(e){e.image&&n(e.image)})}function c(){u(),window.addEventListener("resize",function(){return u()})}function f(n){return n.getBoundingClientRect().height}function u(){var n=window.innerHeight;d.forEach(function(e){if(e.image){var t=f(e.parent),i=e.parent.offsetTop;e.distanceToVisible=i-n,e.height=t,e.offset=e.parent.offsetTop,e.parallaxSpace=f(e.image)-t,e.scrollSpace=t+n}})}function l(n,e){var t=e>=n.distanceToVisible,i=e>=n.height+n.offset;if(t&&!i){var o=e-n.distanceToVisible,r=o-n.scrollSpace/2,a=n.parallaxSpace/n.scrollSpace,c=(r*a).toFixed(1);n.image.style.transform="translateY("+c*-1+"px"}}function s(){requestAnimationFrame(function(){var n=window.pageYOffset;d.forEach(function(e){return l(e,n)}),s()})}function p(){s()}if(n&&e){var d=t(n);if(d)return a(),i()&&(c(),p()),{recalculate:function(){u()}}}};"object"==typeof module?module.exports=e:n.Prlx=e}(this);