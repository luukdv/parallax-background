"use strict";!function(e){e.fn.parallaxBackground=function(i){function a(){f=c.height(),n.each(function(a){var t=e(this),r=t.find(i.image);if(!r.length)return!1;var n=t.outerHeight(),o=r.outerHeight()-n;if(0!==o){var c=t.offset().top;s[a]={$image:r,distanceToVisible:c-f,height:n,offset:c,parallaxSpace:o},s[a].scrollSpace=n+f}})}function t(){o=c.scrollTop(),e.each(s,function(e,i){var a=o>=i.distanceToVisible,t=o>=i.height+i.offset;if(a&&!t){var r=o-i.distanceToVisible;r-=i.scrollSpace/2;var n=i.parallaxSpace/i.scrollSpace,s=(r*n).toFixed(1);s=-1*s,i.$image.css("transform","translateY("+s+"px)")}}),requestAnimationFrame(t)}if(i.image){var r=e(i.image);if(r.css("will-change","transform"),r.show(),!/iP(ad|hone|od).*OS 7.*/.test(navigator.userAgent)&&window.requestAnimationFrame){var n=this;if(n.length){var o,s=[],c=e(window),f=c.height();a(),c.resize(a),requestAnimationFrame(t)}}}}}(jQuery);