"use strict";!function(e){e.fn.parallaxBackground=function(i){function a(){f=c.height(),r.each(function(a){var t=e(this),n=t.find(i.image);if(!n.length)return!1;var r=t.height(),o=n.height()-r;if(0!==o){var c=t.offset().top;s[a]={$image:n,distanceToVisible:c-f,height:r,offset:c,parallaxSpace:o},s[a].scrollSpace=r+f}})}function t(){o=c.scrollTop(),e.each(s,function(e,i){var a=o>=i.distanceToVisible,t=o>=i.height+i.offset;if(a&&!t){var n=o-i.distanceToVisible;n-=i.scrollSpace/2;var r=i.parallaxSpace/i.scrollSpace,s=(n*r).toFixed(1);s=-1*s,i.$image.css("transform","translateY("+s+"px)")}}),requestAnimationFrame(t)}if(i.image){var n=e(i.image);if(n.css("will-change","transform"),n.show(),!/iP(ad|hone|od).*OS 7.*/.test(navigator.userAgent)&&window.requestAnimationFrame){var r=this;if(r.length){var o,s=[],c=e(window),f=c.height();a(),c.resize(a),requestAnimationFrame(t)}}}}}(jQuery);