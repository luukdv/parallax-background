"use strict";!function(e){e.fn.parallaxBackground=function(i){function a(){c=s.height(),n.each(function(a){var t=e(this),n=t.find(i.image);if(!n.length)return!1;var r=t.height(),s=n.height()-r;if(0!==s){var f=t.offset().top;o[a]={$image:n,distanceToVisible:f-c,height:r,offset:f,parallaxSpace:s},o[a].scrollSpace=r+c}})}function t(){r=s.scrollTop(),e.each(o,function(e,i){var a=r>=i.distanceToVisible,t=r>=i.height+i.offset;if(a&&!t){var n=r-i.distanceToVisible;n-=i.scrollSpace/2;var o=i.parallaxSpace/i.scrollSpace,s=(n*o).toFixed(1);s=-1*s,i.$image.css({transform:"translateY("+s+"px)"})}}),requestAnimationFrame(t)}if(i.image&&(e(i.image).show(),!/iP(ad|hone|od).*OS 7.*/.test(navigator.userAgent)&&window.requestAnimationFrame)){var n=this;if(n.length){var r,o=[],s=e(window),c=s.height();a(),s.resize(a),requestAnimationFrame(t)}}}}(jQuery);
